<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L3 Ã‰co-Gestion Pro</title>
    <style>
        :root { --main: #1e3a8a; --bg: #f8fafc; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: #334155; margin: 0; padding: 10px; }
        .wrapper { max-width: 900px; margin: auto; }
        .search-area { background: #fff; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 20px; position: sticky; top: 10px; z-index: 100; }
        input { width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 16px; outline: none; box-sizing: border-box; }
        .card { background: #fff; padding: 25px; border-radius: 15px; margin-bottom: 20px; border: 1px solid #e2e8f0; line-height: 1.8; }
        .tag { font-size: 11px; text-transform: uppercase; font-weight: 800; padding: 5px 12px; border-radius: 6px; display: inline-block; margin-bottom: 15px; }
        .leÃ§on { background: #dcfce7; color: #166534; }
        .exercice { background: #fef9c3; color: #854d0e; }
        .rÃ©ponse { background: #dbeafe; color: #1e40af; }
        h2 { color: var(--main); margin-top: 0; }
        hr { border: 0; border-top: 1px solid #eee; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="search-area">
            <h1 style="color:var(--main); margin-top:0;">ðŸŽ“ BIBLIOTHÃˆQUE L3</h1>
            <input type="text" id="searchInput" placeholder="Tadiavo ny lesona, ex: BFR, Ã‰conomÃ©trie..." oninput="searchData()">
        </div>
        <div id="results">Chargement...</div>
    </div>

<script>
    let db = [];
    fetch('database.json').then(r => r.json()).then(data => { db = data; render(db); });

    function render(data) {
        const res = document.getElementById('results');
        res.innerHTML = "";
        data.forEach(item => {
            const div = document.createElement('div');
            div.className = "card";
            div.innerHTML = `
                <div class="tag ${item.type.toLowerCase()}">${item.type}</div>
                <small style="margin-left:10px; font-weight:bold; color:#64748b;">${item.matiere}</small>
                <h2>${item.titre}</h2>
                <hr>
                <div class="content">${item.contenu}</div>
            `;
            res.appendChild(div);
        });
    }

    function searchData() {
        const q = document.getElementById('searchInput').value.toLowerCase();
        const filtered = db.filter(i => i.titre.toLowerCase().includes(q) || i.contenu.toLowerCase().includes(q) || i.matiere.toLowerCase().includes(q));
        render(filtered);
    }
</script>
</body>
</html>
